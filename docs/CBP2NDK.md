
# утилита экспорта cpb2ndk

Цель утилиты `cbp2ndk`- перенос настроек и установок сделанных в `Code::Blocks` в формат `Android NDK`

### Поддерживаемые блоки конфигурации `C::B`:

- поддерживаются как глобальные блоки настроек, так и соответствующие тегу сборки

- настройки флагов компилятора

- настройки опций линкера

- список подключаемых библиотек

- список компилируемых файлов проекта


### Преобразование данных для конфигурации `NDK`, файл `Android.mk`:

- автоматическое вычисление путей для `include` и включение их в переменную `LOCAL_C_INCLUDES`

- автоматическое вычисление подключаемых библиотек и включение их в переменную `LOCAL_LDLIBS`

- автоматическое вычисление расширений компилируемых файлов и включение их в переменную `LOCAL_CPP_EXTENSION`

- составление списка компилируемых файлов проекта и добавление их в переменную `LOCAL_SRC_FILES`

- если файл `Android.mk` отсутствует в каталоге на который указывает путь до проекта `.cbp`, он будет создан автоматически. В случае создания `Android.mk` имя для приложения будет взято из названия проекта.

- по умолчанию, в переменную `LOCAL_LDLIBS` всегда включается библиотека отладочной печати для `Android`, `liblog`, а в переменную `LOCAL_C_INCLUDES` включаеться корневая директория проекта `./`


### Перезаписываемые переменные в файле `Android.mk`:

Указанные ниже переменные могут быть перезаписаны, не заполняйте их в ручную.  

- `LOCAL_CPP_EXTENSION`

- `LOCAL_SRC_FILES`

- `LOCAL_CFLAGS`

- `LOCAL_LDFLAGS`

- `LOCAL_LDLIBS`

- `LOCAL_C_INCLUDES`

- `LOCAL_MODULE` (в случае создания файла)


Переменные не вошедшие в этот список будут сохранены вместе со значениями и перезаписаны вместе с новой конфигурацией.

### Параметры командной строки:


        Using: cbp2ndk.exe <Debug|Release|OtherTag> <path\project.cbp>


### Источники:

Скачать [cbp2ndk v.0.0.2.14/win32](https://github.com/ClnViewer/Code-Blocks-Android-NDK/raw/master/cbp2ndk/dist/cbp2ndk.zip) 

Перейти в директорию [cbp2ndk](https://github.com/ClnViewer/Code-Blocks-Android-NDK/tree/master/cbp2ndk)

Более подробно о формате и возможностях файла [Android.mk](https://developer.android.com/ndk/guides/android_mk)

### Рекомендации:

> Всегда используйте косую черту в стиле Unix (/) в файлах сборки. Система сборки неправильно обрабатывает обратную косую черту в стиле Windows.
   
> Постарайтесь не изменять уровень оптимизации / отладки в вашем Android.mk файле. Это позволяет системе сборки генерировать полезные файлы данных, используемые во время отладки. Имеется в виду исключить употребление флагов `-g`, `-s`, `-O.` и их аналогов.


